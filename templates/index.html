{% extends 'base.html' %} {% block head %}
<title>TechTodoies</title>
{% endblock %} {% block body %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark navbar1">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Todoies</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link disabled home" aria-current="page" href="#"
            >Home</a
          >
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
      </ul>
      <form class="d-flex">
        <input
          class="form-control me-2"
          type="search"
          placeholder="Search"
          aria-label="Search"
        />
        <button class="btn btn-outline-light" type="submit">Search</button>
      </form>
    </div>
  </div>
</nav>
<div style="margin-top: 10px">
  <h1 style="text-align: center">Add a task</h1>
</div>
<div style="display: flex; justify-content: center; align-items: center">
  <form action="/" method="POST" class="row g-3">
    <div class="col-auto">
      <input
        type="text"
        name="content"
        id="content"
        class="form-control"
        placeholder="Task"
      />
    </div>
    <div class="col-auto">
      <input type="submit" class="btn btn-outline-primary mb-3" value="Add" />
    </div>
  </form>
</div>
<hr />
<div
  style="display: flex; justify-content: center; align-items: center"
  class="container"
>
  {% if tasks|length < 1 %}
  <h1>There are no tasks. Add one from above 👆🏻</h1>
  {% else %}
  <h1>Your tasks</h1>
  <table class="table table-striped table-dark">
    <thead>
      <tr>
        <th scope="col">Task</th>
        <th scope="col">Added</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
      <tr>
        <td>{{ task.content }}</td>
        <td>{{ task.date_created.date() }}</td>
        <td>
          <div class="btn-group" role="group" aria-label="Basic example">
            <a type="button" href="/update/{{task.id}}" class="btn btn-light"
              >Update</a
            >
            <a type="button" href="/delete/{{ task.id }}" class="btn btn-danger"
              >Delete</a
            >
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% endif %}
</div>
{% endblock %}
